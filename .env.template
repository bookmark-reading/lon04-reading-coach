# AWS Credentials Template for Nova Sonic
# Copy this file to .env.local and add your actual credentials

# ============================================
# REQUIRED: AWS Credentials for Nova Sonic
# ============================================

# Option 1: Use IAM User credentials (long-term)
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# Option 2: Use temporary credentials (from AWS STS or SSO)
# AWS_ACCESS_KEY_ID=ASIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# AWS_SESSION_TOKEN=FwoGZXIvYXdzEBYaDH...very-long-token...



# ============================================
# AWS Configuration
# ============================================
AWS_REGION=us-west-2

# ============================================
# Agent Selection
# ============================================
READING_AGENT_TYPE=nova_sonic

# ============================================
# Nova Sonic Configuration
# ============================================
NOVA_MODEL_ID=amazon.nova-sonic-v1:0
NOVA_MAX_TOKENS=1024
NOVA_TEMPERATURE=0.7
NOVA_TOP_P=0.9
NOVA_SAMPLE_RATE_HZ=16000
NOVA_CHANNELS=1

# ============================================
# How to Get AWS Credentials
# ============================================

# Method 1: AWS Console (IAM User)
# 1. Go to AWS Console → IAM → Users
# 2. Create new user or select existing user
# 3. Go to "Security credentials" tab
# 4. Click "Create access key"
# 5. Choose "Application running outside AWS"
# 6. Copy Access Key ID and Secret Access Key
# 7. Paste above

# Method 2: AWS CLI (if already configured)
# Run: cat ~/.aws/credentials
# Copy the values from [default] or your profile

# Method 3: AWS SSO (temporary credentials)
# Run: aws sso login
# Run: aws configure export-credentials --profile your-profile
# Copy the temporary credentials including session token

# ============================================
# Required IAM Permissions for Nova Sonic
# ============================================

# Your IAM user/role needs these permissions:
# {
#   "Version": "2012-10-17",
#   "Statement": [
#     {
#       "Effect": "Allow",
#       "Action": [
#         "bedrock:InvokeModel",
#         "bedrock:InvokeModelWithResponseStream"
#       ],
#       "Resource": "arn:aws:bedrock:*:*:model/amazon.nova-sonic-v1:0"
#     }
#   ]
# }

# ============================================
# Testing Your Credentials
# ============================================

# After adding credentials, test with:
# 1. Restart backend:
#    pkill -f uvicorn
#    cd /workshop/lon04-reading-coach
#    uv run uvicorn src.application.api:app --host 0.0.0.0 --port 8000
#
# 2. Check logs for:
#    "✅ Using Nova Sonic reading agent"
#
# 3. If you see errors about credentials, check:
#    - Access Key ID format (starts with AKIA or ASIA)
#    - Secret Key has no extra spaces
#    - Session token is complete (if using temporary creds)
#    - Region is correct (us-west-2 for Nova Sonic)

# ============================================
# Security Notes
# ============================================

# ⚠️  NEVER commit .env.local to git
# ⚠️  Add .env.local to .gitignore
# ⚠️  Rotate credentials regularly
# ⚠️  Use temporary credentials when possible
# ⚠️  Restrict IAM permissions to minimum required
